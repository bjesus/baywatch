bind: 0.0.0.0
port: 80
domain: localhost
# idle_timeout: 600     # global default seconds of inactivity before shutdown (default: 600)
# shutdown_grace: 5     # seconds before SIGKILL after SIGTERM (default: 5)
# startup_timeout: 30   # seconds to wait for a service to become ready (default: 30)

services:
  # Each service is accessible at <name>.<domain> (e.g. myapp.localhost)
  #
  # Required fields:
  #   port:    the port the service listens on
  #   command: shell command to start the service
  #
  # Optional fields:
  #   pwd:          working directory (supports ~, default: cwd)
  #   idle_timeout: seconds of inactivity before the service is stopped (overrides global)
  #   env:          environment variables passed to the command

  myapp:
    port: 3000
    command: npm start
    pwd: ~/projects/myapp
    idle_timeout: 300

  api:
    port: 8000
    command: cargo run --release
    pwd: ~/projects/api

  freetar:
    port: 22001
    command: uvx freetar
    idle_timeout: 60
    env:
      FREETAR_PORT: "22001"
